## Stan code for models

These files hold the various iterations of the variant growth models as well 
as the working draft the Bayesian $R_t$ model from Liu, Bento, et al., 2020.

- **`brms_multinomial_logit_simple.stan`**: The simplest version of the 
  variant model. It models variant dynamics within a single country and has 
  baseline weakly informative priors. This is the final, validated 
  single-country model for variant dynamics.
- `brms_multinomial_logit_wide.stan`: The same as the  
  `brms_multinomial_logit_simple.stan` model, but with wider priors. This 
  model is meant as validation to check prior sensitivity.
- `multinomial_logit_unit_random.stan`: This model is the same as 
  `brms_multinomial_logit_simple.stan`, but it checks for extra-multinomial 
  variance in the data by adding observation-level random effects (see 
  [Harrison, 2014](https://doi.org/10.7717/peerj.616) for more information.  
- `multivariate_multinomial_cp.stan`: The multivariate multinomial model with 
  a centered parameterization.
- `multivariate_multinomial_ncp.stan`: The multi-country multinomial model 
  with a non-centered parameterization on the hyper-variance of the mean 
  country-specific deviations. In this model, the multivariate normal 
  distribution is parameterized in terms of countries, with each variant being 
  a realization from this distribution. This is largely an accident on my part 
  on my part (ZS). I meant to code with each country as a realization, but got 
  mixed up while struggling with divergences and had this way sample more 
  efficiently. I fixed this in later iterations of the model, but left this 
  code because the correlation matrix is interesting (correlations between 
  countries).
- `multivariate_variant_multinomial.stan`: The multi-country model, with each 
  realization from the multivariate normal distribution as the observed 
  country-level growth rates. This model is fully in the centered 
  parameterization.
- **`multivariate_variant_multinomial_ncp.stan`**: The country level model, 
  but fully in the non-centered parameterization (both the hierarchical 
  distribution on the mean deviation in growth rates and the multivariate 
  normal on the country-specific realizations). This is the finalized, clean, 
  commented version of the multicountry model (but pre-validation).
- `raw_brms_model.stan`: The stan code created by `brms` when coding 
  a multinomial regression model.

Anything with no file extension, a .hpp extension, or a .rds extension are 
compiled versions of the models generated by RStan or cmdstan.
